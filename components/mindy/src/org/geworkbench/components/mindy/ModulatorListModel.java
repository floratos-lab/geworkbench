package org.geworkbench.components.mindy;

import javax.swing.AbstractListModel;

/**
 * Heat map data model.
 *
 * @author mhall
 * @author oshteynb
 * @version $Id$
 */
class ModulatorListModel extends AbstractListModel {
	/**
	 * 	serialVersionUID generated by Eclipse
	 */
	private static final long serialVersionUID = 5709243936247643069L;

	private ModulatorModel modulatorModel;
	private boolean showProbeName = false;

	public ModulatorListModel(boolean showProbeName, ModulatorModel modulatorModel) {
		this.modulatorModel = modulatorModel;
		this.showProbeName = showProbeName;
	}

	void setModulatorModel(ModulatorModel modulatorModel) {
		this.modulatorModel = modulatorModel;
	}

	void setShowProbeName(boolean b) {
		this.showProbeName = b;
	}

	/**
	 * Get the number of enabled modulators.
	 *
	 * @return number of enabled modulators
	 */
	@Override
	public int getSize() {
		return this.modulatorModel.getSelectedModulators().size();
	}

	/**
	 * Get the modulator specified by the index.
	 *
	 * @param i -
	 *            index
	 * @return Modulator marker name of the enabled modulators in the heat
	 *         map as specified by index i.
	 */
	@Override
	public Object getElementAt(int i) {
		String displayName = MindyPlugin.getMarkerDisplayName(showProbeName,
				this.modulatorModel.getSelectedModulators().get(i));

		return displayName;
	}

	/**
	 * Refreshes the data model.
	 */
	void refresh() {
		fireContentsChanged(this, 0, getSize());
	}
}